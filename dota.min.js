/* dota.min.js, v1.0.1, Nijiko Yonskai 2013 (MIT) */
(function(){function m(){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},a=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(a,function(a){return b[a]||a}):e}}function n(b,a,e){return("string"===typeof a?a:a.toString()).replace(b.define||h,function(a,d,g,f){0===d.indexOf("dota.")&&(d=d.substring(5));0===d.indexOf("def.")&&(d=d.substring(4));d in e||(":"===g?(b.defineParams&&f.replace(b.defineParams,function(a,b,f){e[d]={arg:b,text:f}}),d in
e||(e[d]=f)):(new Function("def","def['"+d+"']="+f))(e));return""}).replace(b.use||h,function(a,d){b.useParams&&(d=d.replace(b.useParams,function(a,b,d,g){console.log(b,d,g);if(e[d]&&e[d].arg&&g)return a=(d+":"+g).replace(/'|\\/g,"_"),e.__exp=e.__exp||{},e.__exp[a]=e[d].text.replace(RegExp("(^|[^\\w$])"+e[d].arg+"([^\\w$])","g"),"$1"+g+"$2"),b+"def.__exp['"+a+"']"}));var g=(new Function("def","return "+d))(e);return g?n(b,g,e):g})}function j(a){return a.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g,
" ")}var a={version:"1.0.1",lang:{prefix:"\\{\\{",suffix:"\\}\\}"},template:void 0,compile:void 0,wrap:function(b,g){return RegExp(a.lang.prefix+b+a.lang.suffix,g)}};a.templateSettings={evaluate:a.wrap("(\\/|=)\\s*([\\s\\S]+?)\\s*(?:\\/)?","g"),interpolate:a.wrap("([\\s\\S]+?)","g"),encode:a.wrap("!\\s*([\\s\\S]+?)\\s*","g"),use:a.wrap("use\\s*([\\s\\S]+?)\\s*(?:\\/)?","g"),useParams:/(^|[^\w$])(?:dota|def)(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,
define:a.wrap("def\\s*([\\w\\.$]+)\\s*(\\:|=)([\\s\\S]+?)\\s*(?:\\/)?","g"),defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:a.wrap("(\\/)?(if|else(?:\\s?if)?|\\?\\?|\\?)\\s*([\\s\\S]*?)\\s*","g"),iterate:a.wrap("(\\/)?(~|foreach)\\s*(?:"+a.lang.suffix+"|([\\s\\S]+?)\\s*\\:\\s*([\\w$]+)\\s*(?:\\:\\s*([\\w$]+)))?\\s*","g"),forin:a.wrap("(\\/)?(?:for|\\@)(@)?\\s*(?:"+a.lang.suffix+"|([\\s\\S]+?)\\s*\\:\\s*([\\w$]+)\\s*(?:\\:\\s*([\\w$]+)))?\\s*","g"),varname:"self",strip:!0,append:!0,selfcontained:!1};
"undefined"!==typeof module&&module.exports?(module.exports=a,a.loadfile=function(a){return fs.readFileSync(process.argv[1].replace(/\/[^\/]*$/,a))}):"function"===typeof define&&define.amd?define(function(){return a}):function(){return this||(0,eval)("this")}().dota=a;String.prototype.encodeHTML=m();var r={start:"'+(",end:")+'",endencode:"||'').toString().encodeHTML()+'"},s={start:"';out+=(",end:");out+='",endencode:"||'').toString().encodeHTML();out+='"},h=/$^/;a.template=function(b,g,e){c=a.templateSettings;
for(var k in g)g.hasOwnProperty(k)&&void 0!==g[k]&&(c[k]=g[k]);var d=c.append?r:s,p,f=0,l;b=c.use||c.define?n(c,b,e||{}):b;b=("var out='"+(c.strip?b.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):b).replace(/'|\\/g,"\\$&").replace(c.conditional||h,function(a,b,d,f){return"??"===d||"else"===d||"else if"===d?!b&&f?"';}else if("+j(f)+"){out+='":"';}else{out+='":!b&&f?"';if("+j(f)+"){out+='":"';}out+='"}).replace(c.iterate||h,function(a,b,d,e){if(closing||!b)return"';} } out+='";
f+=1;l=e||"i"+f;b=j(b);return"';var arr"+f+"="+b+";if(arr"+f+"){var "+d+","+l+"=-1,l"+f+"=arr"+f+".length-1;while("+l+"<l"+f+"){"+d+"=arr"+f+"["+l+"+=1];out+='"}).replace(c.forin||h,function(a,b,d,e,g,h){if(b||!e)return"';} } "+(d?"} ":"")+"out+='";f+=1;e=j(e);return"';var obj"+f+"="+e+";if(obj"+f+"){var "+h+","+g+";for("+h+" in obj"+f+"){"+(d?"if(obj"+f+".hasOwnProperty("+h+")){ ":"")+g+"=obj"+f+"["+h+"];out+='"}).replace(c.interpolate||h,function(a,b){return d.start+j(b)+d.end}).replace(c.encode||
h,function(a,b){p=!0;return d.start+j(b)+d.endencode}).replace(c.evaluate||h,function(a,b){return"';"+j(b)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|\}|^|\{)out\+=''\+/g,"$1out+=");p&&c.selfcontained&&(b="String.prototype.encodeHTML=("+m.toString()+"());"+b);try{return new Function(c.varname,b)}catch(q){throw"undefined"!==typeof console&&console.log("Could not create a template function: "+
b),q;}};a.compile=function(b,g){return a.template(b,null,g)}})();