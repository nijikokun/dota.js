/* dota.min.js, v1.0.1, Nijiko Yonskai 2013 (MIT) */
(function(){function n(){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},a=/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(a,function(a){return b[a]||a}):e}}function p(b,a,e){return("string"===typeof a?a:a.toString()).replace(b.define||f,function(a,c,h,k){0===c.indexOf("dota.")&&(c=c.substring(5));0===c.indexOf("def.")&&(c=c.substring(4));c in e||(":"===h?(b.defineParams&&k.replace(b.defineParams,function(a,b,d){e[c]={arg:b,text:d}}),c in
e||(e[c]=k)):(new Function("def","def['"+c+"']="+k))(e));return""}).replace(b.use||f,function(a,c){b.useParams&&(c=c.replace(b.useParams,function(a,b,c,d){console.log(b,c,d);if(e[c]&&e[c].arg&&d)return a=(c+":"+d).replace(/'|\\/g,"_"),e.__exp=e.__exp||{},e.__exp[a]=e[c].text.replace(RegExp("(^|[^\\w$])"+e[c].arg+"([^\\w$])","g"),"$1"+d+"$2"),b+"def.__exp['"+a+"']"}));var h=(new Function("def","return "+c))(e);return h?p(b,h,e):h})}function j(a){return a.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g,
" ")}var a={version:"1.0.1",lang:{prefix:"\\{\\{",suffix:"\\}\\}"},template:void 0,compile:void 0,wrap:function(b,f){return RegExp(a.lang.prefix+b+a.lang.suffix,f)}};a.templateSettings={evaluate:a.wrap("(\\/|=)\\s*([\\s\\S]+?)\\s*(?:\\/)?","g"),interpolate:a.wrap("([\\s\\S]+?)","g"),encode:a.wrap("!\\s*([\\s\\S]+?)\\s*","g"),use:a.wrap("use\\s*([\\s\\S]+?)\\s*(?:\\/)?","g"),useParams:/(^|[^\w$])(?:dota|def)(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,
define:a.wrap("def\\s*([\\w\\.$]+)\\s*(\\:|=)([\\s\\S]+?)\\s*(?:\\/)?","g"),defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:a.wrap("(\\/)?(if|else(?:\\s?if)?|\\?\\?|\\?)\\s*([\\s\\S]*?)\\s*","g"),iterate:a.wrap("(\\/)?(~|foreach)\\s*(?:"+a.lang.suffix+"|([\\s\\S]+?)\\s*\\:\\s*([\\w$]+)\\s*(?:\\:\\s*([\\w$]+)))?\\s*","g"),forin:a.wrap("(\\/)?(?:for|\\@)(@)?\\s*(?:"+a.lang.suffix+"|([\\s\\S]+?)\\s*\\:\\s*([\\w$]+)\\s*(?:\\:\\s*([\\w$]+)))?\\s*","g"),varname:"self",strip:!0,append:!0,selfcontained:!1};
"undefined"!==typeof module&&module.exports?(module.exports=a,a.loadfile=function(a){return fs.readFileSync(process.argv[1].replace(/\/[^\/]*$/,a))}):"function"===typeof define&&define.amd?define(function(){return a}):function(){return this||(0,eval)("this")}().dota=a;String.prototype.encodeHTML=n();var r={start:"'+(",end:")+'",endencode:"||'').toString().encodeHTML()+'"},s={start:"';out+=(",end:");out+='",endencode:"||'').toString().encodeHTML();out+='"},f=/$^/;a.template=function(b,l,e){var d=a.templateSettings,
c;for(c in l)l.hasOwnProperty(c)&&void 0!==l[c]&&(d[c]=l[c]);var h=d.append?r:s,k,g=0,m;b=d.use||d.define?p(d,b,e||{}):b;b=("var out='"+(d.strip?b.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):b).replace(/'|\\/g,"\\$&").replace(d.conditional||f,function(a,b,c,d){return"??"===c||"else"===c||"else if"===c?!b&&d?"';}else if("+j(d)+"){out+='":"';}else{out+='":!b&&d?"';if("+j(d)+"){out+='":"';}out+='"}).replace(d.iterate||f,function(a,b,c,d){if(closing||!b)return"';} } out+='";
g+=1;m=d||"i"+g;b=j(b);return"';var arr"+g+"="+b+";if(arr"+g+"){var "+c+","+m+"=-1,l"+g+"=arr"+g+".length-1;while("+m+"<l"+g+"){"+c+"=arr"+g+"["+m+"+=1];out+='"}).replace(d.forin||f,function(a,b,c,d,e,f){if(b||!d)return"';} } "+(c?"} ":"")+"out+='";g+=1;d=j(d);return"';var obj"+g+"="+d+";if(obj"+g+"){var "+f+","+e+";for("+f+" in obj"+g+"){"+(c?"if(obj"+g+".hasOwnProperty("+f+")){ ":"")+e+"=obj"+g+"["+f+"];out+='"}).replace(d.interpolate||f,function(a,b){return h.start+j(b)+h.end}).replace(d.encode||
f,function(a,b){k=!0;return h.start+j(b)+h.endencode}).replace(d.evaluate||f,function(a,b){return"';"+j(b)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|\}|^|\{)out\+=''\+/g,"$1out+=");k&&d.selfcontained&&(b="String.prototype.encodeHTML=("+n.toString()+"());"+b);try{return new Function(d.varname,b)}catch(q){throw"undefined"!==typeof console&&console.log("Could not create a template function: "+
b),q;}};a.compile=function(b,f){return a.template(b,null,f)}})();