/* dota.min.js, v1.0.0, Nijiko Yonskai 2013 (MIT) */
(function(){function l(){var c={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},b=/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(b,function(b){return c[b]||b}):a}}function m(c,b,a){return("string"===typeof b?b:b.toString()).replace(c.define||g,function(b,e,d,f){0===e.indexOf("dota.")&&(e=e.substring(5));0===e.indexOf("def.")&&(e=e.substring(4));e in a||(":"===d?(c.defineParams&&f.replace(c.defineParams,function(b,c,d){a[e]={arg:c,text:d}}),e in
a||(a[e]=f)):(new Function("def","def['"+e+"']="+f))(a));return""}).replace(c.use||g,function(b,e){c.useParams&&(e=e.replace(c.useParams,function(b,c,d,k){console.log(c,d,k);if(a[d]&&a[d].arg&&k)return b=(d+":"+k).replace(/'|\\/g,"_"),a.__exp=a.__exp||{},a.__exp[b]=a[d].text.replace(RegExp("(^|[^\\w$])"+a[d].arg+"([^\\w$])","g"),"$1"+k+"$2"),c+"def.__exp['"+b+"']"}));var d=(new Function("def","return "+e))(a);return d?m(c,d,a):d})}function h(a){return a.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g,
" ")}var a={version:"1.0.0",lang:{prefix:"\\{\\{",suffix:"\\}\\}"},template:void 0,compile:void 0,wrap:function(c,b){return RegExp(a.lang.prefix+c+a.lang.suffix,b)}};a.templateSettings={evaluate:a.wrap("(\\/|=)\\s*([\\s\\S]+?)\\s*(?:\\/)?","g"),interpolate:a.wrap("([\\s\\S]+?)","g"),encode:a.wrap("!\\s*([\\s\\S]+?)\\s*","g"),use:a.wrap("use\\s*([\\s\\S]+?)\\s*(?:\\/)?","g"),useParams:/(^|[^\w$])(?:dota|def)(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,
define:a.wrap("def\\s*([\\w\\.$]+)\\s*(\\:|=)([\\s\\S]+?)\\s*(?:\\/)?","g"),defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:a.wrap("(\\/)?(if|\\?)(\\s?else(?:\\s?if)?|\\?)?\\s*([\\s\\S]*?)\\s*","g"),iterate:a.wrap("(\\/)?(~|foreach)\\s*(?:"+a.lang.suffix+"|([\\s\\S]+?)\\s*\\:\\s*([\\w$]+)\\s*(?:\\:\\s*([\\w$]+)))?\\s*","g"),forin:a.wrap("(\\/)?(?:for|\\@)(@)?\\s*(?:"+a.lang.suffix+"|([\\s\\S]+?)\\s*\\:\\s*([\\w$]+)\\s*(?:\\:\\s*([\\w$]+)))?\\s*","g"),varname:"self",strip:!0,append:!0,selfcontained:!1};
"undefined"!==typeof module&&module.exports?(module.exports=a,a.loadfile=function(a){return fs.readFileSync(process.argv[1].replace(/\/[^\/]*$/,a))}):"function"===typeof define&&define.amd?define(function(){return a}):function(){return this||(0,eval)("this")}().dota=a;String.prototype.encodeHTML=l();var q={start:"'+(",end:")+'",endencode:"||'').toString().encodeHTML()+'"},r={start:"';out+=(",end:");out+='",endencode:"||'').toString().encodeHTML();out+='"},g=/$^/;a.template=function(c,b,n){b=b||a.templateSettings;
var j=b.append?q:r,e,d=0,f;c=b.use||b.define?m(b,c,n||{}):c;c=("var out='"+(b.strip?c.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):c).replace(/'|\\/g,"\\$&").replace(b.conditional||g,function(a,b,d,c,e){return c?!b&&e?"';}else if("+h(e)+"){out+='":"';}else{out+='":!b&&e?"';if("+h(e)+"){out+='":"';}out+='"}).replace(b.iterate||g,function(a,b,c,e){if(closing||!b)return"';} } out+='";d+=1;f=e||"i"+d;b=h(b);return"';var arr"+d+"="+b+";if(arr"+d+"){var "+c+","+
f+"=-1,l"+d+"=arr"+d+".length-1;while("+f+"<l"+d+"){"+c+"=arr"+d+"["+f+"+=1];out+='"}).replace(b.forin||g,function(a,b,c,e,g,f){if(b||!e)return"';} } "+(c?"} ":"")+"out+='";d+=1;e=h(e);return"';var obj"+d+"="+e+";if(obj"+d+"){var "+f+","+g+";for("+f+" in obj"+d+"){"+(c?"if(obj"+d+".hasOwnProperty("+f+")){ ":"")+g+"=obj"+d+"["+f+"];out+='"}).replace(b.interpolate||g,function(a,b){return j.start+h(b)+j.end}).replace(b.encode||g,function(a,b){e=!0;return j.start+h(b)+j.endencode}).replace(b.evaluate||
g,function(b,a){return"';"+h(a)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|\}|^|\{)out\+=''\+/g,"$1out+=");e&&b.selfcontained&&(c="String.prototype.encodeHTML=("+l.toString()+"());"+c);try{return new Function(b.varname,c)}catch(p){throw"undefined"!==typeof console&&console.log("Could not create a template function: "+c),p;}};a.compile=function(c,b){return a.template(c,null,b)}})();